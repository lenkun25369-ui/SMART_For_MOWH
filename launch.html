<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8" />
  <title>SMART Launch</title>

  <!-- ✅ 改用 unpkg（穩定） -->
  <script src="https://unpkg.com/fhirclient/build/fhir-client.min.js"></script>
</head>

<body>
  <p>Launching SMART app...</p>

  <script>
    if (typeof FHIR === "undefined") {
      document.body.innerHTML =
        "<h2 style='color:red'>FHIR client not loaded</h2>";
    } else {
      FHIR.oauth2.authorize({
        clientId: "mohw-smart-dashboard",
        scope: "launch launch/patient openid fhirUser patient/*.read",
        redirectUri: "index.html"
      });
    }
  </script>
</body>
</html>
